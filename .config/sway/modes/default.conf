#----- Launchers

$bindsym {

  # Terminal
  $mod+Return exec $term_cwd
  $mod+Shift+Return exec $term

  # App launcher
  $mod+d exec $menu

  # Bluetooth launcher
  $mod+b exec $bluetooth

  # Pulseaudio launcher
  $mod+p exec $pulseaudio

  # Music launcher
  $mod+n exec $ncspot

  # Video launcher
  $mod+y exec $yewtube

  # Clipboard
  $mod+i exec $clipboard

  # Task Manager
  Ctrl+Alt+Delete exec $task_manager

  # Emoji Picker
  $mod+shift+o exec $emoji-picker

  # Pass launcher
  $mod+Shift+p exec $pass

  # Toggle allow-sleep
  $mod+Shift+s exec $locking --allow-sleep toggle

  # Inhibit Idle
  $mod+Shift+i exec inhibit-idle interactive

  # Deinhibit Idle
  # $mod+i exec inhibit-idle off

  # Reload Sway Configuration
  --locked $mod+Shift+c reload
}


#----- Controls

# locked flags allow the buttons to be used
# whilst the screen is locked.

# Audio control
$bindsym {

  # general volume
  --locked XF86AudioRaiseVolume exec $volume_up
  --locked XF86AudioLowerVolume exec $volume_down
  --locked XF86AudioMute exec $volume_mute

  # mic volume
  --locked $mod+XF86AudioRaiseVolume exec $mic_up
  --locked $mod+XF86AudioLowerVolume exec $mic_down
  --locked $mod+XF86AudioMute exec $mic_mute
  --locked XF86AudioMicMute exec $mic_mute

  # Brightness control
  --locked XF86MonBrightnessUp exec $brightness_up
  --locked XF86MonBrightnessDown exec $brightness_down

  # Media player control
  XF86AudioNext exec playerctl next
  XF86AudioPrev exec playerctl previous
  --locked XF86AudioPlay exec playerctl play-pause

  # Power control
  XF86PowerOff mode $mode_shutdown
}


#----- Workspace

$bindsym {

  # Kill focused window
  $mod+Shift+q kill

  # Allow to kill focused floating shell windows using Esc
  # --release Escape [app_id="floating_shell" con_id=__focused__] kill

  # Move window to scratchpad
  $mod+Shift+minus move scratchpad, exec "waybar-signal scratchpad"

  # Toggle / Cycle scratchpad
  $mod+minus scratchpad show, exec "waybar-signal scratchpad"

  # Toggle Waybar
  $mod+Shift+b exec pkill -x -SIGUSR1 waybar

  # Scale up 
  $mod+Control+equal exec $scale_up

  # Scale down 
  $mod+Control+minus exec $scale_down

  # Scale default 
  $mod+Control+0 exec $scale_default

  # Toggle window tabbing
  $mod+w layout tabbed

  # Toggle window splitting
  $mod+e splitt

  # Toggle fullscreen
  $mod+f fullscreen

  # Toggle global fullscreen
  $mod+Shift+f fullscreen global

  # Toggle floating
  $mod+Shift+m floating toggle

  # Toggle focus between tiling and floating
  $mod+m focus mode_toggle border normal
}

# Monitor workspace layout
workspace 1 output $monitor_wide default_orientation horizontal, $monitor_lptp default_orientation horizontal
workspace 2 output $monitor_wide default_orientation horizontal, $monitor_lptp default_orientation horizontal
workspace 3 output $monitor_wide default_orientation horizontal, $monitor_lptp default_orientation horizontal
workspace 4 output $monitor_wide default_orientation horizontal, $monitor_lptp default_orientation horizontal
workspace 5 output $monitor_wide default_orientation horizontal, $monitor_lptp default_orientation horizontal
workspace 6 output $monitor_wide default_orientation horizontal, $monitor_lptp default_orientation horizontal
workspace 7 output $monitor_wide default_orientation horizontal, $monitor_lptp default_orientation horizontal
workspace 8 output $monitor_kaus default_orientation horizontal, $monitor_wide default_orientation horizontal, $monitor_lptp default_orientation horizontal
workspace 9 output $monitor_vert default_orientation vertical,   $monitor_lptp default_orientation horizontal

# Resize windows with $mod + right mouse button
floating_modifier $mod normal

# Default workspace layout
workspace_layout tabbed

# Workspace boundaries
focus_wrapping workspace


#----- Navigation

$bindsym {

  # Move focus // $mod + ↑ ↓ ← →
  $mod+$up focus up
  $mod+$down focus down
  $mod+$left focus left focus_wrapping yes
  $mod+$right focus right focus_wrapping yes

  $mod+$left_alt focus left focus_wrapping no
  $mod+$right_alt focus right focus_wrapping no

  # Move focused window // $mod + Shift + ↑ ↓ ← →
  $mod+Shift+$left move left, layout tabbed
  $mod+Shift+$down move down, layout tabbed
  $mod+Shift+$up move up, layout tabbed
  $mod+Shift+$right move right, layout tabbed

  # Move focused workspace // $mod + Alt + ↑ ↓ ← →
  $mod+Alt+$right move workspace to output right
  $mod+Alt+$left move workspace to output left
  $mod+Alt+$down move workspace to output down
  $mod+Alt+$up move workspace to output up

  # Move focused window to workspace // $mod + Shift + [number]
  $mod+Shift+1 move container to workspace 1, workspace 1
  $mod+Shift+2 move container to workspace 2, workspace 2
  $mod+Shift+3 move container to workspace 3, workspace 3
  $mod+Shift+4 move container to workspace 4, workspace 4
  $mod+Shift+5 move container to workspace 5, workspace 5
  $mod+Shift+6 move container to workspace 6, workspace 6
  $mod+Shift+7 move container to workspace 7, workspace 7
  $mod+Shift+8 move container to workspace 8, workspace 8
  $mod+Shift+9 move container to workspace 9, workspace 9

  # Switch workspace // $mod + [number]
  $mod+1 workspace 1
  $mod+2 workspace 2
  $mod+3 workspace 3
  $mod+4 workspace 4
  $mod+5 workspace 5
  $mod+6 workspace 6
  $mod+7 workspace 7
  $mod+8 workspace 8
  $mod+9 workspace 9

  # Switch focus between monitors
  $mod+space focus output left

  # Switch focus between sibling containers
  $mod+Shift+space focus parent, focus left, focus child

  # Switch focus to the parent/child window
  $mod+Shift+a focus parent
  $mod+a focus child
}


#----- Thinkpad-related

$bindsym {

  # Disable middle-button wl-paste
  --whole-window button2 exec wl-paste --primary --watch wl-copy --primary --clear

  # Laptop lid control
  --locked $mod+F8 exec $swaymonitors --profile laptop --refresh
  --locked $mod+Shift+F8 exec $swaymonitors --profile --refresh
}

# Listen to lid events
bindswitch --reload --locked lid:off exec $locking
bindswitch --reload --locked lid:on  exec $locking


#----- Macros

# bindsym $mod+u seat * cursor press button1
# bindsym --no-repeat --release $mod+u seat * cursor release button1
